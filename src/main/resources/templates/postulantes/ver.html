<!-- <!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org"
 
> 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ver postulante</title>
</head>
<body>
 -->
<!--  <form th:action="@{/postulantes/modificar}" method="post" th:object="${postulante}"> -->
  <!--   <form method="post" th:object="${postulante}" onsubmit="return accionEliminar_Modificar(this)">

      <div>
           <label for="usuario">Usuario</label>
           
        ACA ESTAN LOS POSTULANTES -->

            <!--
            <input type="text" th:field="*{usuario}" readonly>

            -->

            <!-- <input type="text" th:field="*{usuario}"> -->

      <!--         <input type="text" name="usuario" id="usuario" readonly>

        </div>

        <div>
            <label for="primernombre">Primer Nombre</label> -->

            <!--
                <input type="text" th:field="*{primernombre}" readonly>
            -->

            <!-- <input type="text" th:field="*{primernombre}"> -->

           <!--   <input type="text" name="primernombre" id="primernombre" readonly>


        </div>

        <div>
            <label for="segundoNombre"> Segundo Nombre</label> -->

            <!--
            
            <input type="text" th:field="*{segundoNombre}" readonly>
            -->

         <!--    <input type="text" name="segundoNombre" id="primernomnbre" readonly>

        </div>

        <div>
            <label for="primerApellido"> Primer Apellido </label> -->

            <!--
             <input type="text" th:field="*{primerApellido}" readonly>
            -->

           <!--  <input type="text" name="primerApellido" id="primerApellido" readonly>

        </div>

        <div>
            <label for="segundoApellido"> Segundo Apellido</label> -->

            <!--
            
            <input type="text" th:field="*{segundoApellido}" readonly>
            -->
           <!--  <input type="text" name="segundoApellido" id="segundoApellido" readonly> 
        </div>

        <div>
            <label for="fechanacimiento"> Fecha Nacimiento </label> -->

            <!--
              <input type="date" th:field="*{fechanacimiento}" readonly>
            -->

           <!--  <input type="date" name="fechanacimiento" id="fechanacimiento readonly">
        </div>

        <div>   

            <label for="fechanacimiento"> Departamento</label> -->
         <!--<span th:text="*{departamento}" aria-readonly="true"></span>-->   
           
            <!-- <input type="text" name="departamento" id="departamento" readonly>
           
        </div>      


        <div>
            <label for="pdf"> CV</label>
            <a th:href="@{|/pdf/${Cedula}.pdf|}"> CV </a>
        </div>

        <div>
                        -->   <!--ESTE BOTON MODIFICA-->
            <!-- <input type="submit" value="modificar" name="accionEnBoton"> -->

                            <!--ESTE BOTON ELIMINA-->
           <!--  <input type="submit" value="eliminar" name="accionEnBoton">                        
                                               
        </div>

    </form> -->            


<!-- <script>
    function accionEliminar_Modificar(formularioEliminar_Modificar_Postulante)
    {   
        //SE ENCUENTRA EL ELEMENTO BOTON EN EL FORMULARIO Y SI ES DE TIPO SUBMIT (ENVIO)
        const accion = [...formularioEliminar_Modificar_Postulante.elements].find
        
        (botonParaAccion=>botonParaAccion.name==="accionEnBoton" 
        && botonParaAccion ==='submit'
        && document.activeElement ===botonParaAccion)?.value;

        if (botonParaAccion ==='eliminar')
            {
                return confirm("SE ELIMINA EL POSTULANTE?");
            }

            return true;

    }
</script> -->

<!-- </body>
</html> -->

<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      th:replace="~{fragmentos/pagina-maestra :: html(~{::title}, ~{::section}, ~{::link})}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ver Postulante</title>
    <link rel="stylesheet" th:href="@{/css/crud.css}">
</head>
<section>
    <div id="contenedor">
        <div class="card">
            <h2>Postulante</h2>

            <div th:if="${mensaje}" class="exito" th:text="${mensaje}"></div>
            <div th:if="${error}" class="error" th:text="${error}"></div>

            <form th:action="@{/postulantes/ver}" method="post" th:object="${postulante}" onsubmit="return confirmarEliminar(this)">

                <input type="hidden" th:field="*{usuario}"/>

                <label>Usuario</label>
                <input type="text" th:field="*{usuario}" readonly/>

                <label>Primer Nombre</label>
                <input type="text" th:field="*{primerNombre}" readonly/>

                <label>Segundo Nombre</label>
                <input type="text" th:field="*{segundoNombre}" readonly/>

                <label>Primer Apellido</label>
                <input type="text" th:field="*{primerApellido}" readonly/>

                <label>Segundo Apellido</label>
                <input type="text" th:field="*{segundoApellido}" readonly/>

                <label>Fecha de Nacimiento</label>
                <input type="date" th:field="*{fechanacimiento}" readonly/>

                <label>Departamento</label>
                <input type="text" th:field="*{departamento}" readonly/>

            <div th:if="${cvDisponible}" >
            <label>CurrÃ­culum</label>
            <a id="cv" class="cv" th:href="@{|/pdf/${postulante.cedula}.pdf|}" target="_blank">Ver CV</a> 
            </div>

        <div th:unless="${cvDisponible}">
            <label>CurrÃ­culum</label>
            <span class="error-simple">ðŸ“„ CV no disponible</span>
        </div>

                <div style="margin-top:15px;">
                    <button type="submit" name="accion" value="btn_modificar" sec:authorize="hasAnyAuthority('admin','postulante')">Modificar</button>
                    <button type="submit" name="accion" value="btn_eliminar" sec:authorize="hasAnyAuthority('admin','postulante')">Eliminar</button>
                    <!-- <a th:href="@{/postulantes/lista}" sec:authorize="hasAuthority('postulante')"></a> -->
                     <a th:if="${idOferta != null}" th:href="@{/postulaciones/ofertas/{id}/postulantes(id=${idOferta})}" sec:authorize="hasAuthority('cliente')">
                    <button type="button">Volver al listado</button></a>

                    <!-- Si no vino desde una oferta, volver a la lista general -->
                    <a th:if="${idOferta == null}" th:href="@{/postulantes/lista}">
                    <button type="button">Volver</button>
                    </a>

                </div>

            </form>
        </div>
    </div>
</section>

<script>
function confirmarEliminar(form) {
    const accion = document.activeElement.value;
    if (accion === 'btn_eliminar') {
        return confirm('Â¿EstÃ¡ seguro que desea eliminar este postulante?');
    }
    return true;
}
</script>
</html>



